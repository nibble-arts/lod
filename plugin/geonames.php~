<?PHP
// DNB-Datenservice parser

class Geonames {
	var $url;
	var $user;
	var $xsl;

	function __construct($user="") {
		$this->url = "http://api.geonames.org/search";
		$this->xsl = "";

		$this->user;

		if ($user) {
			$this->user = $user;
			return true;
		}
		else
			return false;
	}

	function query($searchString) {

		$path = "{$this->url}?username={$this->user}&q={$searchString}";

		$xml = file_get_contents($path);
		$xml = new SimpleXmlElement($xml);
		$xml = this->parse($xml,$this->xslt);

		return $xml;
	}

	function parse() {
//		$xslt = new XSLTProcessor(
	}
}

?>

